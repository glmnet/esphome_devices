substitutions:
  device_name: eh-cocina
  friendly_name: Cocina

packages:
  home: !include .pkg.home.yaml
  wifi: !include .pkg.wifi.yaml
  board: !include .pkg.esp8266.yaml
  ape: !include .pkg.ape.yaml

light:
  - platform: binary
    id: luz_cocina
    name: "Luz cocina"
    output: ape_relay_1
    restore_mode: RESTORE_DEFAULT_OFF
  - platform: binary
    id: luz_mesa_cocina
    name: "Luz mesa cocina"
    output: ape_relay_2
  - platform: binary
    id: luz_exterior_pasillo
    name: "Luz exterior pasillo"
    output: ape_relay_3
    restore_mode: RESTORE_DEFAULT_OFF

binary_sensor:
  - platform: gpio
    pin:
      arduino_port_expander: ape
      number: 2 # ribbon purple
      mode:
        input: true
        pullup: true
    name: "Switch Cocina puerta 1"
    internal: true
    filters:
      delayed_on_off: 100ms
    on_state:
      then:
        - light.toggle: luz_cocina

  - platform: gpio
    pin:
      arduino_port_expander: ape
      number: 3 # ribbon white
      mode:
        input: true
        pullup: true
    name: "Switch Cocina puerta 2"
    internal: true
    filters:
      delayed_on_off: 100ms
    on_state:
      then:
        - light.toggle: luz_mesa_cocina

  - platform: gpio
    pin:
      arduino_port_expander: ape
      number: 8 # ribbon verde
      mode:
        input: true
        pullup: true
    name: "Switch Cocina puerta 3"
    filters:
      delayed_on_off: 100ms
    on_state:
      then:
        - light.toggle: luz_exterior_pasillo

  - platform: gpio
    pin:
      arduino_port_expander: ape
      number: 15 # A1 ribbon orange
      mode:
        input: true
        pullup: true
    name: "Switch Mesa cocina"
    internal: true
    filters:
      delayed_on_off: 100ms
    on_state:
      then:
        - light.toggle: luz_mesa_cocina

  - platform: gpio
    pin:
      arduino_port_expander: ape
      number: 14 # ribbon red
      mode:
        input: true
        pullup: true
    name: "Ventana cocina"
    filters:
      delayed_on_off: 100ms
    device_class: window
